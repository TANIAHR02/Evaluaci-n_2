# SchoolBot - Asistente Inteligente Escolar
# Archivo de configuración de variables de entorno
# 
# Autor: Tania Herrera Roriguez
# Fecha: 10/10/2025
# Evaluación: EP1 - Ingeniería de Soluciones con Inteligencia Artificial
# Institución: Duoc UC
#
# INSTRUCCIONES:
# 1. Copiar este archivo como .env
# 2. Configurar las variables según tu entorno
# 3. NUNCA commitear el archivo .env al repositorio

# =============================================================================
# CONFIGURACIÓN GENERAL DE LA APLICACIÓN
# =============================================================================

# Nombre de la aplicación
APP_NAME=SchoolBot
APP_VERSION=1.0.0
APP_DESCRIPTION=Asistente Inteligente Escolar

# Entorno de ejecución (development, staging, production)
ENVIRONMENT=development

# Modo debug (true/false)
DEBUG=true

# Puerto de la aplicación
PORT=8000

# Host de la aplicación
HOST=0.0.0.0

# =============================================================================
# CONFIGURACIÓN DE SEGURIDAD
# =============================================================================

# Clave secreta para JWT (CAMBIAR EN PRODUCCIÓN)
SECRET_KEY=your-super-secret-key-change-in-production

# Algoritmo de encriptación JWT
JWT_ALGORITHM=HS256

# Tiempo de expiración del token (en minutos)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Tiempo de expiración del refresh token (en días)
REFRESH_TOKEN_EXPIRE_DAYS=7

# Salt para hash de contraseñas
PASSWORD_SALT=your-password-salt-here

# =============================================================================
# CONFIGURACIÓN DE BASE DE DATOS
# =============================================================================

# URL de la base de datos principal (PostgreSQL)
DATABASE_URL=postgresql://username:password@localhost:5432/schoolbot_db

# URL alternativa para SQLite (desarrollo)
SQLITE_URL=sqlite:///./data/schoolbot.db

# Pool de conexiones
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# CONFIGURACIÓN DE BASE DE DATOS VECTORIAL
# =============================================================================

# Ruta de la base de datos vectorial ChromaDB
VECTOR_DB_PATH=./data/vector_db

# Configuración de ChromaDB
CHROMA_HOST=localhost
CHROMA_PORT=8001
CHROMA_COLLECTION_NAME=school_documents

# =============================================================================
# CONFIGURACIÓN DE CACHE (REDIS)
# =============================================================================

# URL de Redis
REDIS_URL=redis://localhost:6379/0

# Configuración de Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Tiempo de expiración del cache (en segundos)
CACHE_EXPIRE_TIME=3600

# =============================================================================
# CONFIGURACIÓN DE MODELOS DE IA
# =============================================================================

# Modelo de embeddings
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2

# Modelo de re-ranking
RERANK_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2

# Modelo de lenguaje (Ollama)
LLM_MODEL=mistral:7b

# URL del servicio Ollama
OLLAMA_URL=http://localhost:11434

# Configuración de GPU
USE_GPU=true
CUDA_VISIBLE_DEVICES=0

# =============================================================================
# CONFIGURACIÓN DE PROCESAMIENTO DE DOCUMENTOS
# =============================================================================

# Directorio de documentos de entrada
DOCUMENTS_INPUT_PATH=./data/docs

# Directorio de documentos procesados
DOCUMENTS_PROCESSED_PATH=./data/processed

# Directorio de archivos temporales
TEMP_PATH=./data/temp

# Tamaño de chunk para procesamiento
CHUNK_SIZE=512
CHUNK_OVERLAP=50

# Formatos de archivo permitidos
ALLOWED_FILE_EXTENSIONS=.pdf,.docx,.xlsx,.txt

# Tamaño máximo de archivo (en MB)
MAX_FILE_SIZE=50

# =============================================================================
# CONFIGURACIÓN DE BÚSQUEDA SEMÁNTICA
# =============================================================================

# Número de resultados a retornar por defecto
DEFAULT_TOP_K=5

# Número máximo de resultados
MAX_TOP_K=20

# Umbral de similitud mínima
SIMILARITY_THRESHOLD=0.7

# Habilitar re-ranking
ENABLE_RERANKING=true

# Número de documentos para re-ranking
RERANK_TOP_K=20

# =============================================================================
# CONFIGURACIÓN DE RATE LIMITING
# =============================================================================

# Límite de consultas por minuto por usuario
RATE_LIMIT_PER_MINUTE=10

# Límite de consultas por hora por usuario
RATE_LIMIT_PER_HOUR=100

# Límite de subida de documentos por minuto
UPLOAD_RATE_LIMIT_PER_MINUTE=5

# =============================================================================
# CONFIGURACIÓN DE LOGGING
# =============================================================================

# Nivel de logging (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Formato de logs (json, text)
LOG_FORMAT=json

# Archivo de logs
LOG_FILE=./logs/schoolbot.log

# Rotación de logs (en MB)
LOG_MAX_SIZE=100
LOG_BACKUP_COUNT=5

# =============================================================================
# CONFIGURACIÓN DE MONITOREO
# =============================================================================

# Habilitar métricas de Prometheus
ENABLE_METRICS=true

# Puerto para métricas de Prometheus
METRICS_PORT=9090

# Endpoint de métricas
METRICS_PATH=/metrics

# Habilitar health checks
ENABLE_HEALTH_CHECKS=true

# =============================================================================
# CONFIGURACIÓN DE EMAIL
# =============================================================================

# Servidor SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Configuración de email
EMAIL_FROM=noreply@schoolbot.edu
EMAIL_FROM_NAME=SchoolBot

# Habilitar TLS
SMTP_USE_TLS=true

# =============================================================================
# CONFIGURACIÓN DE NOTIFICACIONES
# =============================================================================

# Habilitar notificaciones push
ENABLE_PUSH_NOTIFICATIONS=false

# Configuración de Firebase (para notificaciones)
FIREBASE_SERVER_KEY=your-firebase-server-key
FIREBASE_PROJECT_ID=your-firebase-project-id

# =============================================================================
# CONFIGURACIÓN DE INTEGRACIÓN
# =============================================================================

# API del colegio (si existe)
SCHOOL_API_URL=
SCHOOL_API_KEY=

# Integración con sistema de notas
GRADES_API_URL=
GRADES_API_KEY=

# Integración con calendario
CALENDAR_API_URL=
CALENDAR_API_KEY=

# =============================================================================
# CONFIGURACIÓN DE BACKUP
# =============================================================================

# Habilitar backups automáticos
ENABLE_AUTO_BACKUP=true

# Frecuencia de backup (en horas)
BACKUP_INTERVAL_HOURS=24

# Directorio de backups
BACKUP_PATH=./data/backups

# Retener backups por (en días)
BACKUP_RETENTION_DAYS=30

# =============================================================================
# CONFIGURACIÓN DE DESARROLLO
# =============================================================================

# Habilitar hot reload
HOT_RELOAD=true

# Habilitar CORS para desarrollo
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Habilitar documentación automática
ENABLE_DOCS=true

# Habilitar ReDoc
ENABLE_REDOC=true

# =============================================================================
# CONFIGURACIÓN DE PRODUCCIÓN
# =============================================================================

# Hosts confiables (separados por coma)
TRUSTED_HOSTS=localhost,127.0.0.1,schoolbot.edu

# Configuración de SSL
SSL_CERT_PATH=
SSL_KEY_PATH=

# Configuración de proxy
PROXY_HEADERS=X-Forwarded-For,X-Forwarded-Proto

# =============================================================================
# CONFIGURACIÓN DE TESTING
# =============================================================================

# Base de datos de testing
TEST_DATABASE_URL=sqlite:///./test_schoolbot.db

# Configuración de tests
TEST_MODE=false
TEST_DATA_PATH=./test_data

# =============================================================================
# CONFIGURACIÓN DE COLEGIO
# =============================================================================

# Información del colegio
SCHOOL_NAME=Colegio San Ignacio Digital
SCHOOL_ADDRESS=Santiago, Chile
SCHOOL_PHONE=+56 2 1234 5678
SCHOOL_EMAIL=contacto@sanignacio.edu

# Configuración de horarios
SCHOOL_START_TIME=08:00
SCHOOL_END_TIME=16:00
SCHOOL_TIMEZONE=America/Santiago

# =============================================================================
# CONFIGURACIÓN DE USUARIOS
# =============================================================================

# Tipos de usuario permitidos
ALLOWED_USER_TYPES=estudiante,apoderado,profesor,admin

# Configuración de registro
ALLOW_USER_REGISTRATION=true
REQUIRE_EMAIL_VERIFICATION=false

# Configuración de contraseñas
MIN_PASSWORD_LENGTH=6
REQUIRE_SPECIAL_CHARS=false

# =============================================================================
# CONFIGURACIÓN DE DOCUMENTOS
# =============================================================================

# Tipos de documento permitidos
ALLOWED_DOCUMENT_TYPES=reglamento_escolar,calendario_academico,circular_apoderados,menu_almuerzos,manual_procedimientos,documento_general

# Configuración de procesamiento
AUTO_PROCESS_DOCUMENTS=true
ENABLE_OCR=false

# =============================================================================
# CONFIGURACIÓN DE ANALYTICS
# =============================================================================

# Habilitar analytics
ENABLE_ANALYTICS=true

# Configuración de Google Analytics (opcional)
GOOGLE_ANALYTICS_ID=

# Configuración de tracking
TRACK_USER_BEHAVIOR=true
ANONYMIZE_DATA=true

# =============================================================================
# CONFIGURACIÓN DE MANTENIMIENTO
# =============================================================================

# Modo de mantenimiento
MAINTENANCE_MODE=false

# Mensaje de mantenimiento
MAINTENANCE_MESSAGE=El sistema está en mantenimiento. Volveremos pronto.

# =============================================================================
# CONFIGURACIÓN DE DESARROLLO LOCAL
# =============================================================================

# Para desarrollo local, usar estas configuraciones:
# ENVIRONMENT=development
# DEBUG=true
# DATABASE_URL=sqlite:///./data/schoolbot.db
# REDIS_URL=redis://localhost:6379/0
# LOG_LEVEL=DEBUG
# CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# CONFIGURACIÓN DE PRODUCCIÓN
# =============================================================================

# Para producción, usar estas configuraciones:
# ENVIRONMENT=production
# DEBUG=false
# DATABASE_URL=postgresql://user:pass@localhost/schoolbot
# REDIS_URL=redis://localhost:6379/0
# LOG_LEVEL=WARNING
# CORS_ORIGINS=https://schoolbot.edu
# SECRET_KEY=your-super-secure-secret-key
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

